<?xml version="1.0"?>

<cache-config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns="http://xmlns.oracle.com/coherence/coherence-cache-config"
  xmlns:kv="class://oracle.kv.coherence.NoSQLNamespaceHandler"
  xsi:schemaLocation="http://xmlns.oracle.com/coherence/coherence-cache-config coherence-cache-config.xsd">
  <defaults>
      <serializer>pof</serializer>
   </defaults>
  <caching-scheme-mapping>
      <cache-mapping>
         <cache-name>*</cache-name>
         <scheme-name>basic-distributed</scheme-name>
      </cache-mapping>
   <!-- <cache-mapping>
      <cache-name>BinaryCache</cache-name>
      <scheme-name>BinaryCacheScheme</scheme-name>
    </cache-mapping> -->
    <cache-mapping>
      <cache-name>AvroCustomerCache</cache-name>
      <scheme-name>AvroCustomerCacheScheme</scheme-name>
    </cache-mapping>
  </caching-scheme-mapping> 

  <caching-schemes>
    <distributed-scheme>
      <scheme-name>AvroCustomerCacheScheme</scheme-name>
      <service-name>AvroCustomerCacheService</service-name>
      <serializer>
        <instance>
          <class-name>oracle.kv.coherence.NoSQLAvroSerializer</class-name>
          <init-params>
             <init-param>
               <param-name>storeName</param-name>
               <param-value>kvstore</param-value>
             </init-param>
             <init-param>
               <param-name>helperHosts</param-name>
               <param-value>fmw02:5000</param-value>
             </init-param>
             <!--<init-param>
               <param-name>schemaFiles</param-name>
               <param-value>customer-schema.avsc</param-value>
            </init-param>-->
           </init-params>
        </instance>
      </serializer>
      <backup-count>0</backup-count>
      <backing-map-scheme>
        <read-write-backing-map-scheme>
          <internal-cache-scheme>
            <local-scheme />
          </internal-cache-scheme>
          <cachestore-scheme>
            <class-scheme> 
                <class-name>oracle.kv.coherence.NoSQLAvroCacheStore</class-name> 
                <init-params> 
                    <init-param> 
                        <param-name>storeName</param-name> 
                        <param-value>kvstore</param-value> 
                    </init-param> 
                    <init-param> 
                        <param-name>helperHosts</param-name> 
                        <param-value>fmw02:5000</param-value> 
                    </init-param> 
                </init-params> 
            </class-scheme> 
          <!--  <kv:avro-cache-store>
              <kv:store-name>kvstore</kv:store-name>
              <kv:helper-hosts>localhost:5000</kv:helper-hosts>
              <kv:avro-format>SPECIFIC</kv:avro-format>
              <kv:schema-files>customer-schema.avsc</kv:schema-files>
            </kv:avro-cache-store> -->
          </cachestore-scheme>
        </read-write-backing-map-scheme>
      </backing-map-scheme>
      <autostart>true</autostart>
    </distributed-scheme>
    <distributed-scheme>
        <scheme-name>basic-distributed</scheme-name>
		<service-name>BasicDistributedCache</service-name> 
		<backing-map-scheme>
        	<local-scheme></local-scheme>
      	</backing-map-scheme>
      	<autostart>true</autostart>
     </distributed-scheme>
    <!--<distributed-scheme>
      <scheme-name>BinaryCacheScheme</scheme-name>
      <service-name>BinaryCacheService</service-name>
      <serializer>pof</serializer>
      <backing-map-scheme>
        <read-write-backing-map-scheme>
          <internal-cache-scheme>
            <local-scheme />
          </internal-cache-scheme>
          <cachestore-scheme>
            <kv:binary-cache-store>
              <kv:store-name>kvstore</kv:store-name>
              <kv:helper-hosts>localhost:5000</kv:helper-hosts>
            </kv:binary-cache-store>
          </cachestore-scheme>
        </read-write-backing-map-scheme>
      </backing-map-scheme>
      <autostart>true</autostart>
    </distributed-scheme> 
    <proxy-scheme>
    	<service-name>DataGridProxyService</service-name>
        <thread-count>20</thread-count>
        <acceptor-config>
        	<tcp-acceptor>
            	<local-address>
                	<address>192.168.56.1</address>
                	<port>9998</port>
               </local-address>
            </tcp-acceptor>
         </acceptor-config>
         <autostart>true</autostart>
      </proxy-scheme> -->
      <invocation-scheme>
                <scheme-name>local-invocation-service</scheme-name>
                <service-name>InvocationService</service-name>
                <autostart>true</autostart>
        </invocation-scheme>
  </caching-schemes>
</cache-config>
