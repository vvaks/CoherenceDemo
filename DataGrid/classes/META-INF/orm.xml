<?xml version="1.0"?>
<entity-mappings xmlns="http://java.sun.com/xml/ns/persistence/orm"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_2_0.xsd"
                 version="2.0">
    <entity class="com.oracle.datagrid.activeactive.entity.Customer" name="Customer">
        <attributes>
            <id name="customerAccountNumber">
                <column name="ACCOUNT_NUMBER"/>
            </id>
            <basic name="customerPhone">
                <column name="HOME_PHONE"/>
            </basic>
            <basic name="customerId">
                <column name="CUSTOMER_ID"/>  
            </basic>
            <one-to-many name="customerDevices" target-entity="com.oracle.datagrid.activeactive.entity.Device" mapped-by="customer">
                <cascade>
                    <cascade-all/> 
                </cascade>
            </one-to-many>
            <one-to-one name="customerLocation" fetch="LAZY" mapped-by="customer">
                <cascade>
                    <cascade-all/> 
                </cascade>
            </one-to-one>
            <many-to-many name="customerServices">
                <join-table name="CUSTOMER_SERVICE">
                    <join-column name="ACCOUNT_NUMBER" referenced-column-name="ACCOUNT_NUMBER"/>
                    <inverse-join-column name="SERVICE_ID" referenced-column-name="SERVICE_ID"/>
                </join-table>
                <cascade>
                    <cascade-all/> 
                </cascade>
            </many-to-many>
            <embedded name="customerName"/>
            <transient name="dbmsPersist"/> 
        </attributes>
    </entity>
    <entity class="com.oracle.datagrid.activeactive.entity.Location" name="Location">
        <attributes>
            <id name="locationId">
                <column name="LOCATION_ID"/> 
                <generated-value/> 
            </id>
            <basic name="address">
                <column name="ADDRESS"/>
            </basic>
            <basic name="city">
                <column name="CITY"/>
            </basic>
            <basic name="state">
                <column name="STATE"/>
            </basic>
            <basic name="postalCode">
                <column name="POSTAL_CODE"/>
            </basic>
            <basic name="country">
                <column name="COUNTRY"/>
            </basic>
            <one-to-one name="customer" fetch="LAZY">
                <join-column name="ACCOUNT_NUMBER"/>
                <cascade>
                    <cascade-all /> 
                </cascade>
            </one-to-one>
        </attributes>
    </entity>
    <entity class="com.oracle.datagrid.activeactive.entity.Device" name="Device">
        <attributes>
            <id name="deviceId">
                <column name="DEVICE_ID"/> 
                <generated-value/> 
            </id>
            <basic name="ipAddress">
                <column name="IP_ADDRESS"/>
            </basic>
            <basic name="macAddress">
                <column name="MAC_ADDRESS"/>
            </basic>
            <basic name="deviceMake">
                <column name="MAKE"/>
            </basic>
            <basic name="deviceModel">
                <column name="MODEL"/>
            </basic>
            <basic name="deviceSerialNumber">
                <column name="SERIAL_NUMBER"/>
            </basic>
            <basic name="deviceStatus">
                <column name="STATUS"/>
            </basic>
            <basic name="deviceType">
                <column name="TYPE"/>
            </basic>
            <many-to-one name="customer" fetch="EAGER" target-entity="com.oracle.datagrid.activeactive.entity.Customer">
                <join-column name="ACCOUNT_NUMBER"/>
                <cascade>
                    <cascade-all/> 
                </cascade>
            </many-to-one>
            <transient name="selected"/>
        </attributes>
    </entity>
    <entity class="com.oracle.datagrid.activeactive.entity.Service" name="Service">
        <attributes>
            <id name="serviceId">
                <column name="SERVICE_ID"/> 
                <generated-value/> 
            </id>
            <basic name="serviceCode">
                <column name="SERVICE_CODE"/>
            </basic>
            <basic name="serviceDescription">
                <column name="DESCRIPTION"/>
            </basic>
            <basic name="serviceLOB">
                <column name="LOB"/>
            </basic>
            <basic name="serviceName">
                <column name="NAME"/>
            </basic>
            <basic name="serviceRate">
                <column name="RATE"/>
            </basic>
            <many-to-many name="customers" fetch="LAZY" mapped-by="customerServices">
                <cascade>
                    <cascade-all/> 
                </cascade>
            </many-to-many>
             <transient name="selected"/>
        </attributes>
    </entity>
    <embeddable name="customerName" class="com.oracle.datagrid.activeactive.entity.Name">
        <attributes>
            <basic name="firstName">
                <column name="FIRST_NAME"/>
            </basic>
            <basic name="lastName">
                <column name="LAST_NAME"/>
            </basic>
        </attributes>
    </embeddable>
</entity-mappings>